apiVersion: v1
kind: Service
metadata:
  name: github-dashboard-api
  namespace: github-dashboard
  labels:
    app: github-dashboard-api
    component: api
    environment: ${ENVIRONMENT}
    managed-by: terraform
  annotations:
    internal:cost-allocation:Application: github-dashboard
    internal:cost-allocation:Project: GitHub Dashboard Demo
    internal:cost-allocation:Client: Internal
    internal:cost-allocation:Owner: Engineering
    internal:operations:Environment: ${ENVIRONMENT}
    internal:operations:ManagedBy: Terraform
    internal:operations:Owner: DevOps
    internal:operations:Project: internal/platform
    internal:data:Classification: Private
    internal:compliance:Framework: SOC2
spec:
  selector:
    app: github-dashboard-api
  ports:
  - name: http
    port: 3000
    targetPort: 3000
    protocol: TCP
  type: ClusterIP

---
apiVersion: v1
kind: Service
metadata:
  name: github-dashboard-web
  namespace: github-dashboard
  labels:
    app: github-dashboard-web
    component: web
    environment: ${ENVIRONMENT}
    managed-by: terraform
  annotations:
    internal:cost-allocation:Application: github-dashboard
    internal:cost-allocation:Project: GitHub Dashboard Demo
    internal:cost-allocation:Client: Internal
    internal:cost-allocation:Owner: Engineering
    internal:operations:Environment: ${ENVIRONMENT}
    internal:operations:ManagedBy: Terraform
    internal:operations:Owner: DevOps
    internal:operations:Project: internal/platform
    internal:data:Classification: Private
    internal:compliance:Framework: SOC2
spec:
  selector:
    app: github-dashboard-web
  ports:
  - name: http
    port: 3000
    targetPort: 3000
    protocol: TCP
  type: ClusterIP